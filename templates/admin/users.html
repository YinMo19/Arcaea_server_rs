{% extends "admin/base.html" %}

{% block title %}Users{% endblock %}
{% block page_title %}玩家管理{% endblock %}
{% block page_subtitle %}查询、筛选、定位并编辑玩家状态{% endblock %}

{% block content %}
<article class="card section">
  <div class="section-head">
    <h3>玩家列表</h3>
    <form class="toolbar" method="get" action="/web/users">
      <input class="input" name="q" placeholder="按名称 / user_code 搜索">
      <select class="select" name="status">
        <option value="">全部状态</option>
        <option value="normal">正常</option>
        <option value="banned">封禁</option>
      </select>
      <button class="btn" type="submit">查询</button>
    </form>
  </div>

  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>User ID</th>
          <th>Name</th>
          <th>User Code</th>
          <th>PTT</th>
          <th>Ticket</th>
          <th>Last Play</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for u in users %}
        <tr>
          <td>{{ u.user_id }}</td>
          <td>{{ u.name }}</td>
          <td>{{ u.user_code }}</td>
          <td>{{ u.rating_ptt }}</td>
          <td>{{ u.ticket }}</td>
          <td>{{ u.last_play }}</td>
          <td>
            {% if u.banned %}
            <span class="tag tag-danger">封禁</span>
            {% else %}
            <span class="tag tag-ok">正常</span>
            {% endif %}
          </td>
          <td><a class="btn btn-xs" href="/web/users/{{ u.user_id }}">详情</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</article>
{% endblock %}
